@startuml
title Activity Flow Diagram - Xem danh sách tài xế (View Drivers)

|Quản lý|
start
:Truy cập trang Quản lý tài xế;

|Hệ thống|
:Khởi tạo DriverController bằng useRef;
:Gọi driverController.getDrivers() để lấy danh sách tài xế;

if (Có lỗi khi tải dữ liệu?) then (Có)
  :Hiển thị thông báo lỗi;
  stop
endif

if (Không có tài xế nào?) then (Có)
  :Hiển thị grid trống;
  stop
endif

:Lưu danh sách vào state driverList;
:Tính tổng số tài xế\n(driverList.length);
:Tính số tài xế đang thực hiện\n(filter status === "đang thực hiện");
:Tính số tài xế chưa phân công\n(tổng - đang thực hiện);

if (Tổng số tài xế = 0?) then (Có)
  :Đánh giá trung bình hiển thị "0.0";
else (Có tài xế)
  :Tính đánh giá trung bình\n(tổng rating / số lượng, làm tròn 1 chữ số);
endif

:Hiển thị 4 thẻ thống kê ở đầu trang:\n- Tổng tài xế\n- Đang thực hiện\n- Chưa phân công\n- Đánh giá trung bình;
:Hiển thị grid với các card tài xế\n(responsive: 3 cột desktop, 2 cột tablet, 1 cột mobile);

:Hiển thị mỗi card với:\n- Avatar với chữ cái đầu của tên\n- Tên và số bằng lái\n- Badge trạng thái với màu sắc\n  (xanh cho "đang thực hiện", xám cho "chưa phân công")\n- Tuyến đường phụ trách\n- Xe phụ trách\n- Kinh nghiệm\n- Đánh giá (rating với 1 chữ số thập phân)\n- Nút "Gọi" và "Email"\n- Nút "Chỉnh sửa";

|Quản lý|
:Xem danh sách tài xế;
stop

@enduml

